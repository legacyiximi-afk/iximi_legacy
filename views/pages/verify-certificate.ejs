<!-- 
  IXIMI Legacy - Vista de Verificación de Certificado (EJS)
  Diseño profesional optimizado para escaneo de códigos QR en dispositivos móviles.
-->
<div class="min-vh-100 bg-light d-flex align-items-center justify-content-center py-5" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-7 col-md-9">
                <!-- Tarjeta del Certificado -->
                <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
                    <!-- Encabezado con Identidad Visual -->
                    <div class="p-5 text-center text-white" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <div class="mb-4">
                            <div class="bg-white d-inline-block p-3 rounded-circle shadow-sm">
                                <i class="fas fa-certificate fa-3x text-primary"></i>
                            </div>
                        </div>
                        <h1 class="h2 fw-bold mb-1">Certificado de Autenticidad</h1>
                        <p class="opacity-75 mb-0">Protegiendo el Patrimonio Cultural de México</p>
                    </div>

                    <div class="card-body p-4 p-md-5">
                        <!-- Estado de Verificación -->
                        <div class="d-flex align-items-center justify-content-center mb-5">
                            <div class="badge bg-success-soft text-success px-4 py-2 rounded-pill fs-6 border border-success">
                                <i class="fas fa-check-circle me-2"></i>Verificación Exitosa
                            </div>
                        </div>

                        <!-- ID del Certificado -->
                        <div class="text-center mb-5">
                            <span class="text-muted small text-uppercase fw-bold tracking-wider d-block mb-2">ID de Certificación Digital</span>
                            <code class="fs-4 text-primary fw-bold bg-light px-3 py-2 rounded border"><%= qrCode %></code>
                        </div>

                        <!-- Detalles del Artefacto -->
                        <div class="row g-4 mb-5">
                            <div class="col-12">
                                <div class="p-3 border-start border-primary border-4 bg-light rounded-end shadow-sm">
                                    <label class="text-muted small text-uppercase fw-bold d-block mb-1">Nombre de la Obra</label>
                                    <span class="h4 text-dark fw-bold mb-0"><%= name %></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3 border-start border-secondary border-4 bg-light rounded-end shadow-sm h-100">
                                    <label class="text-muted small text-uppercase fw-bold d-block mb-1">Maestro/a Artesano/a</label>
                                    <span class="h5 text-dark fw-bold mb-0"><%= artisan %></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3 border-start border-secondary border-4 bg-light rounded-end shadow-sm h-100">
                                    <label class="text-muted small text-uppercase fw-bold d-block mb-1">Comunidad de Origen</label>
                                    <span class="h5 text-dark fw-bold mb-0"><%= community %></span>
                                </div>
                            </div>
                        </div>

                        <!-- Información Blockchain -->
                        <div class="bg-dark text-white p-4 rounded-3 mb-5 shadow">
                            <div class="d-flex align-items-start">
                                <div class="me-3">
                                    <i class="fas fa-shield-alt fa-2x text-warning"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-1">Respaldo Blockchain Inmutable</h6>
                                    <p class="small mb-0 opacity-75">Este artefacto cuenta con un registro digital en la red Polygon, garantizando que su origen y autoría no puedan ser alterados.</p>
                                    <div class="mt-2">
                                        <span class="badge bg-primary small">Red: Polygon Mainnet</span>
                                        <span class="badge bg-secondary small">Status: Sincronizado</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Botones de Acción -->
                        <div class="d-grid gap-3">
                            <a href="https://skillful-freedom-production-1872.up.railway.app/" class="btn btn-primary btn-lg rounded-pill shadow-sm">
                                <i class="fas fa-home me-2"></i>Ir a la Plataforma Principal
                            </a>
                            <button onclick="window.print()" class="btn btn-outline-secondary btn-lg rounded-pill">
                                <i class="fas fa-print me-2"></i>Descargar Certificado PDF
                            </button>
                        </div>
                    </div>

                    <!-- Footer -->
                    <div class="card-footer bg-white border-top p-4 text-center">
                        <p class="text-muted small mb-0">
                            Validado el <%= timestamp %> por el sistema IXIMI Legacy.
                            <br>
                            <a href="https://iximilegacy.org" class="text-decoration-none text-primary fw-bold">www.iximilegacy.org</a>
                        </p>
                    </div>
                </div>

                <!-- Soporte -->
                <div class="mt-4 text-center">
                    <p class="text-muted small">¿Dudas sobre este certificado? <a href="/contacto" class="text-primary fw-bold">Contáctanos</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .rounded-4 { border-radius: 1.5rem !important; }
    .bg-success-soft { background-color: rgba(40, 167, 69, 0.1); }
    .tracking-wider { letter-spacing: 0.1em; }
    .shadow-lg { box-shadow: 0 1rem 3rem rgba(0,0,0,.15) !important; }
    .btn-lg { padding: 0.8rem 1.5rem; font-weight: 600; }
    .card-body { background-image: radial-gradient(#dee2e6 0.5px, transparent 0.5px); background-size: 20px 20px; }
</style>
